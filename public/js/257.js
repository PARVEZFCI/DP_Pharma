(self.webpackChunk=self.webpackChunk||[]).push([[257],{7222:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});var s=a(3645),o=a.n(s)()((function(t){return t[1]}));o.push([t.id,"label[data-v-06937a2a]{margin-right:15px}.form-control[data-v-06937a2a]{border:1px solid #c8c1c1}table tr th[data-v-06937a2a]{font-weight:700}table tr td[data-v-06937a2a],table tr th[data-v-06937a2a]{color:#fff;text-align:center}.badge.badge-warning[data-v-06937a2a]{background-color:#f9d62e;color:#fff}.action-column[data-v-06937a2a]{display:flex;justify-content:center}.dropdown-menu>li>a[data-v-06937a2a]{cursor:pointer}.text-black[data-v-06937a2a]{color:#fff}.clientlogo[data-v-06937a2a]{float:left;height:60px;width:60px;background:url(/frontend_assets/assets/img/logo.jpg) no-repeat;background-size:60px 60px;border-radius:50px;margin-top:30px}.info[data-v-06937a2a]{display:block;float:left;margin-left:20px}.info h2[data-v-06937a2a]{font-weight:800;font-size:1.5em}.info p[data-v-06937a2a],.invoice-left p[data-v-06937a2a]{color:#fff;margin-bottom:5px}.modal-footer[data-v-06937a2a]{display:flex;align-items:center;justify-content:space-between}.search-box[data-v-06937a2a]{height:40px;margin:12px 0 8px}[data-v-06937a2a]::-moz-placeholder{color:#fff;opacity:1}[data-v-06937a2a]:-ms-input-placeholder{color:#fff;opacity:1}[data-v-06937a2a]::placeholder{color:#fff;opacity:1}[data-v-06937a2a]:-ms-input-placeholder{color:#fff}[data-v-06937a2a]::-ms-input-placeholder{color:#fff}",""]);const r=o},7257:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>l});const s={name:"CustomerList",data:function(){return{allCustomers:{},customRow:10,selectedRow:[10,20,30,40,50],search:"",customerType:1,customerDetails:"",customerOrders:{}}},methods:{getCustomer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this,a=base_path+"customer?q="+e.search+"&page="+t+"&row="+e.customRow+"&type="+e.customerType;axios.get(a).then((function(t){e.allCustomers=t.data})).catch((function(t){console.log(t)}))},changeStatus:function(t){var e=this;axios.get(base_path+"customer/status/"+t).then((function(t){e.getCustomer(),200===t.data.code&&e.$toastr.success("Approved successfully!","Customer",{timeOut:5e3}),201===t.data.code&&e.$toastr.warning("Pending successfully!","Customer",{timeOut:5e3})})).catch((function(t){console.log(t)}))},getCustomerType:function(){this.customerType=event.target.value,this.getCustomer()},viewCustomer:function(t,e){var a=this;a.customerDetails=t,axios.get(base_path+"customer/"+e).then((function(t){a.customerOrders=t.data})).catch((function(t){console.log(t)}))}},created:function(){this.getCustomer()}};var o=a(3379),r=a.n(o),c=a(7222),i={insert:"head",singleton:!1};r()(c.Z,i);c.Z.locals;const l=(0,a(1900).Z)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("Customers List")]),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"panel panel-primary"},[a("div",{staticClass:"panel-heading"},[a("div",{staticClass:"pull-right panel-title"},[a("select",{staticClass:"form-control bg-dark",on:{change:function(e){return t.getCustomerType(this)}}},[a("option",{attrs:{selected:"",value:"1"}},[t._v("Retailer Customer")]),t._v(" "),a("option",{attrs:{value:"2"}},[t._v("Regular Customer")])])])]),t._v(" "),a("div",{staticClass:"panel-heading",staticStyle:{padding:"6px 0px 3px"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-1"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Show")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.customRow,expression:"customRow"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.customRow=e.target.multiple?a:a[0]},t.getCustomer]}},t._l(t.selectedRow,(function(e){return a("option",{domProps:{textContent:t._s(e)}})})),0)])]),t._v(" "),a("div",{staticClass:"col-sm-2"}),t._v(" "),a("div",{staticClass:"col-sm-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control search-box",attrs:{"aria-controls":"DataTables_Table_2",placeholder:"Search",type:"search"},domProps:{value:t.search},on:{keyup:function(e){return t.getCustomer()},input:function(e){e.target.composing||(t.search=e.target.value)}}})])])])]),t._v(" "),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered"},[t._m(0),t._v(" "),a("tbody",t._l(t.allCustomers.data,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(++s))]),t._v(" "),a("td",[1==e.customer_type?a("span",[t._v(t._s(e.customer_details.pharmacy_name))]):a("span",[t._v(t._s(e.name))])]),t._v(" "),a("td",[t._v(t._s(e.customer_details.phone?e.customer_details.phone:"N/A"))]),t._v(" "),a("td",[a("span",{staticStyle:{color:"white"}},[t._v(t._s(1==e.customer_type?"Retailer Customer":"Regular Customer"))])]),t._v(" "),a("td",[a("label",{staticClass:"badge",class:1==e.status?"badge-success":"badge-danger"},[t._v(t._s(1==e.status?"Approved":"Pending"))])]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-sm",class:1==e.status?"btn-success":"btn-warning",attrs:{type:"button"},on:{click:function(a){return t.changeStatus(e.id)}}},[a("i",{staticClass:"fas fa-sync"})]),t._v(" "),a("button",{staticClass:"btn btn-sm btn-info",attrs:{"data-target":"#viewModal","data-toggle":"modal",type:"button"},on:{click:function(a){return t.viewCustomer(e,e.id)}}},[a("i",{staticClass:"fas fa-eye"})])])])})),0)])])]),t._v(" "),a("div",{staticClass:"text-center"},[a("pagination",{staticStyle:{"margin-left":"20px"},attrs:{data:t.allCustomers,limit:3},on:{"pagination-change-page":t.getCustomer}},[a("span",{attrs:{slot:"prev-nav"},slot:"prev-nav"},[t._v("< Previous")]),t._v(" "),a("span",{attrs:{slot:"next-nav"},slot:"next-nav"},[t._v("Next >")])])],1),t._v(" "),a("div",{staticClass:"modal fade in",attrs:{id:"viewModal"}},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content"},[t._m(1),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-2"}),t._v(" "),a("div",{staticClass:"col-md-8"},[a("table",{staticClass:"table table-bordered"},[a("tbody",[a("tr",[a("td",[t._v("Name:")]),t._v(" "),a("td",[t._v(t._s(t.customerDetails.name))])]),t._v(" "),a("tr",[1==t.customerDetails.customer_type?a("td",[t._v("Pharmacy:")]):t._e(),t._v(" "),a("td",[t._v(t._s(t.customerDetails.customer_details&&t.customerDetails.customer_details.pharmacy_name))])]),t._v(" "),a("tr",[a("td",[t._v("Address:")]),t._v(" "),a("td",[t._v(t._s(t.customerDetails.customer_details&&t.customerDetails.customer_details.address))])]),t._v(" "),a("tr",[a("td",[t._v("Phone:")]),t._v(" "),a("td",[t._v(t._s(t.customerDetails.customer_details&&t.customerDetails.customer_details.phone))])]),t._v(" "),a("tr",[a("td",[t._v("Type:")]),t._v(" "),a("td",[t._v(t._s(1==t.customerDetails.customer_type?"Retailer":"Regular"))])]),t._v(" "),a("tr",[1==t.customerDetails.customer_type?a("td",[t._v("Trade License:")]):t._e(),t._v(" "),t.customerDetails.customer_details&&t.customerDetails.customer_details.trade_license?a("td",[a("a",{attrs:{href:"/download?file="+t.customerDetails.customer_details&&t.customerDetails.customer_details.trade_license}},[a("i",{staticClass:"fa fa-download"})])]):t._e()])])])]),t._v(" "),a("div",{staticClass:"col-md-2"})]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[t._l(t.customerOrders.dateWise,(function(e,s){return a("div",[a("div",{staticClass:"text-center",staticStyle:{border:"1px solid darkgray",height:"3rem",width:"19rem","background-color":"currentcolor"}},[a("b",[a("p",{staticStyle:{color:"white","margin-top":"3px"}},[t._v("Date: "+t._s(t._f("moment")(s,"Do MMMM YYYY")))])])]),t._v(" "),t._l(e,(function(e){return a("div",{staticStyle:{"overflow-x":"auto"}},[a("center",[a("p",{staticStyle:{color:"white"}},[a("b",[t._v("Invoice: "+t._s(e.order_code))])])]),t._v(" "),a("table",{staticClass:"table table-bordered"},[t._m(2,!0),t._v(" "),a("tbody",t._l(e.order_medicine_info,(function(e,s){return a("tr",[a("td",{staticClass:"text-center"},[t._v(t._s(++s))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.medicine&&e.medicine.category?e.medicine.category.code:"")+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t"),a("b",[t._v(t._s(e.medicine?e.medicine.name:" "))]),t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.medicine&&e.medicine.dosage)+"\n\t\t\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.discount_price?e.discount_price:e.medicine_price))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.quantity))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(e.sub_total))])])})),0),t._v(" "),a("tfoot",[a("tr",[a("td",{staticStyle:{"background-color":"#cbcccc !important"},attrs:{colspan:"3"}}),t._v(" "),a("td",{staticClass:"text-right",staticStyle:{"background-color":"#cbcccc !important",color:"black"}},[a("b",[t._v("Total Paid: "+t._s(e.total_paid))])]),t._v(" "),a("td",{staticClass:"text-right",staticStyle:{"background-color":"#cbcccc !important",color:"black"}},[a("b",[t._v("Total Price: "+t._s(e.total_price))])])])])])],1)}))],2)})),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"}),t._v(" "),a("div",{staticClass:"col-md-4"}),t._v(" "),a("div",{staticClass:"col-md-4"},[a("table",{staticClass:"pull-right table table-bordered"},[a("tbody",[a("tr",[t._m(3),t._v(" "),a("td",[a("b",{staticStyle:{color:"white"}},[t._v(t._s(t.customerOrders.total_quantity))])])]),t._v(" "),a("tr",[t._m(4),t._v(" "),a("td",[a("b",{staticStyle:{color:"white"}},[t._v(t._s(t.customerOrders.total_amount))])])]),t._v(" "),a("tr",[t._m(5),t._v(" "),a("td",[a("b",{staticStyle:{color:"white"}},[t._v(t._s(t.customerOrders.total_paid))])])]),t._v(" "),a("tr",[t._m(6),t._v(" "),a("td",[a("b",{staticStyle:{color:"white"}},[t._v(t._s(t.customerOrders.total_due))])])])])])])])],2)])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{ref:"addCloseBtn",staticClass:"btn btn-primary closeModal",attrs:{"data-dismiss":"modal",type:"button"}},[t._v("Close")])])])])])])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("#")]),t._v(" "),a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Phone")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Status")]),t._v(" "),a("th",{attrs:{width:"33%"}},[t._v("Action")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("b",[t._v("View Customer")])]),t._v(" "),a("button",{staticClass:"close",attrs:{"aria-label":"Close","data-dismiss":"modal",type:"button"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"text-center"},[t._v("#")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("Product Name")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("Rate")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("Quantity")]),t._v(" "),a("th",{staticClass:"text-right"},[t._v("Total Amount")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("b",{staticStyle:{color:"white"}},[t._v("Total Product")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("b",{staticStyle:{color:"white"}},[t._v("Total Amount")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("b",{staticStyle:{color:"white"}},[t._v("Total Paid")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("b",{staticStyle:{color:"white"}},[t._v("Total Due")])])}],!1,null,"06937a2a",null).exports}}]);