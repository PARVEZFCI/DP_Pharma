(self.webpackChunk=self.webpackChunk||[]).push([[970],{3543:(t,e,s)=>{"use strict";s.d(e,{Z:()=>r});var a=s(3645),o=s.n(a)()((function(t){return t[1]}));o.push([t.id,"label[data-v-864b6298]{margin-right:15px}.form-control[data-v-864b6298]{border:1px solid #c8c1c1}table tr[data-v-864b6298],table tr th[data-v-864b6298]{text-align:center}table tr th[data-v-864b6298]{color:rgba(0,0,0,.8313725490196079);font-weight:700}.search-box[data-v-864b6298]{height:40px;margin:12px 0 8px}[data-v-864b6298]::-moz-placeholder{color:#4e5157;opacity:1}[data-v-864b6298]:-ms-input-placeholder{color:#4e5157;opacity:1}[data-v-864b6298]::placeholder{color:#4e5157;opacity:1}[data-v-864b6298]:-ms-input-placeholder{color:#4e5157}[data-v-864b6298]::-ms-input-placeholder{color:#4e5157}",""]);const r=o},7970:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>l});const a={name:"posCustomerComponent",data:function(){return{addPosCustomer:{name:"",phone:"",sex:""},allPosCustomer:{},editCustomerData:{},allErrors:[],search:"",customRow:10,selectRow:[10,20,30,40,50]}},methods:{addNewPosCustomer:function(){var t=this,e=this;axios.post(base_path+"pos_customer",e.addPosCustomer).then((function(s){201==s.data.code&&(t.$toastr.success(s.data.message,"Pos Customer",{timeout:5e3}),e.getPosCustomer(),e.closeModal("addModal"),e.clearForm(e.addPosCustomer))})).catch((function(t){422===t.response.status?e.allErrors=t.response.data.errors:e.$toastr.warning("Application error","Sorry",{timeOut:5e3})}))},getPosCustomer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this,s=base_path+"pos_customer?q="+e.search+"&page="+t+"&row="+e.customRow;axios.get(s).then((function(t){e.allPosCustomer=t.data})).catch((function(t){console.log(t)}))},changeStatus:function(t){var e=this;axios.get(base_path+"pos_customer/status/"+t).then((function(t){e.getPosCustomer(),200===t.data.code&&e.$toastr.warning("This Customer is inactive successfully!","Customer",{timeOut:5e3}),201===t.data.code&&e.$toastr.success("This Customer is active successfully!","Customer",{timeOut:5e3})})).catch((function(t){console.log(t)}))},editCustomer:function(t,e){this.openModal("editModal"),this.editCustomerData=e},updatePosCustomer:function(t){var e=this,s=this;axios.put(base_path+"pos_customer/"+t,s.editCustomerData).then((function(t){201==t.data.code?(e.$toastr.success(t.data.message,"Pos Customer",{timeout:5e3}),s.closeModal("editModal"),s.clearForm(s.editCustomerData),s.getPosCustomer()):e.$toastr.warning("Something went wrong","Sorry",{timeout:5e3})})).catch((function(t){422===t.response.status?s.allErrors=t.response.data.errors:s.$toastr.error("Application error","Sorry",{timeOut:5e3})}))},deleteCustomer:function(t,e){var s=this,a=this;this.$swal({title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.value&&axios.delete(base_path+"pos_customer/"+t).then((function(t){200==t.status&&s.$swal("Deleted!",t.data.message,"success"),a.getPosCustomer()})).catch((function(t){console.log(t)}))}))},openModal:function(t){this.$modal.show(t)},closeModal:function(t){this.$modal.hide(t)},clearForm:function(t){this.allErrors=[],Object.keys(t).forEach((function(e){t[e]=""}))}},created:function(){this.getUserPermissions(),this.getPosCustomer()}};var o=s(3379),r=s.n(o),n=s(3543),i={insert:"head",singleton:!1};r()(n.Z,i);n.Z.locals;const l=(0,s(1900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h3",[t._v("POS Customer List")]),t._v(" "),s("br"),t._v(" "),s("div",{staticClass:"panel panel-primary"},[s("div",{staticClass:"panel-heading"},[s("div",{staticClass:"panel-title"},[t._v("POS Customer List")]),t._v(" "),s("div",{staticClass:"panel-options",staticStyle:{padding:"7px 15px"}},[t.permissions.includes("Add_Customer")?s("button",{staticClass:"btn btn-blue btn-sm",attrs:{type:"button"},on:{click:function(e){return t.openModal("addModal")}}},[s("i",{staticClass:"entypo-plus-circled"}),t._v("Add\n\t\t\t\t")]):t._e()])]),t._v(" "),s("div",{staticClass:"panel-heading",staticStyle:{padding:"6px 0px 3px"}},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-1"},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"control-label"},[t._v("Show")]),t._v(" "),s("select",{staticClass:"form-control"},t._l(t.selectRow,(function(e){return s("option",{domProps:{textContent:t._s(e)}})})),0)])]),t._v(" "),s("div",{staticClass:"col-md-2"}),t._v(" "),s("div",{staticClass:"col-md-5"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control search-box",attrs:{"aria-controls":"DataTables_Table_2",placeholder:"Search according to generic name",type:"search"},domProps:{value:t.search},on:{keyup:function(e){return t.getPosCustomer()},input:function(e){e.target.composing||(t.search=e.target.value)}}})])])])]),t._v(" "),s("table",{staticClass:"table table-bordered responsive"},[t._m(0),t._v(" "),s("tbody",t._l(t.allPosCustomer.data,(function(e,a){return s("tr",[s("td",{staticClass:"text-center"},[t._v(t._s(++a))]),t._v(" "),s("td",{staticClass:"text-center"},[t._v(t._s(e.name))]),t._v(" "),s("td",{staticClass:"text-center"},[t._v(t._s(e.phone))]),t._v(" "),s("td",{staticClass:"text-center"},[t._v(t._s("male"==e.sex?"Male":"Female"))]),t._v(" "),s("td",{staticClass:"text-center"},[s("span",{staticClass:"badge",class:1==e.status?"badge-success":"badge-warning"},[t._v(t._s(1==e.status?"Active":"Inactive"))])]),t._v(" "),s("td",{staticClass:"text-center"},[t.permissions.includes("Status_Customer")?s("button",{staticClass:"btn btn-sm",class:1==e.status?"btn-success":"btn-warning",attrs:{type:"button"},on:{click:function(s){return t.changeStatus(e.id)}}},[s("i",{staticClass:"fas fa-sync"})]):t._e(),t._v(" "),t.permissions.includes("Edit_Customer")?s("button",{staticClass:"btn btn-sm btn-info",attrs:{type:"button"},on:{click:function(s){return t.editCustomer(e.id,e)}}},[s("i",{staticClass:"fas fa-pen"})]):t._e(),t._v(" "),t.permissions.includes("Delete_Customer")?s("button",{staticClass:"btn btn-sm btn-danger",attrs:{type:"button"},on:{click:function(s){return t.deleteCustomer(e.id,a)}}},[s("i",{staticClass:"fas fa-trash"})]):t._e()])])})),0)])]),t._v(" "),s("div",{staticClass:"text-center"},[s("pagination",{staticStyle:{"margin-left":"20px"},attrs:{data:t.allPosCustomer},on:{"pagination-change-page":function(e){return t.getPosCustomer()}}},[s("span",{attrs:{slot:"prev-nav"},slot:"prev-nav"},[t._v("< Previous")]),t._v(" "),s("span",{attrs:{slot:"next-nav"},slot:"next-nav"},[t._v("Next >")])])],1),t._v(" "),s("modal",{attrs:{adaptive:!0,clickToClose:!1,draggable:!0,limit:3,resizable:!0,height:"auto",name:"addModal"}},[s("div",{staticClass:"modal-header"},[s("button",{staticClass:"close",attrs:{"aria-hidden":"true","data-dismiss":"modal",type:"button"},on:{click:function(e){return t.closeModal("addModal")}}},[t._v("×")]),t._v(" "),s("h4",{staticClass:"modal-title"},[s("i",{staticClass:"entypo-plus-circled"}),t._v("Add POS Customer\n\t\t\t")])]),t._v(" "),s("div",{staticClass:"modal-body"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.addNewPosCustomer()}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:""}},[t._v("Name")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.addPosCustomer.name,expression:"addPosCustomer.name"}],staticClass:"form-control",attrs:{id:"name",placeholder:"Enter Customer Name",type:"text"},domProps:{value:t.addPosCustomer.name},on:{input:function(e){e.target.composing||t.$set(t.addPosCustomer,"name",e.target.value)}}}),t._v(" "),t.allErrors.name?s("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.allErrors.name[0])}}):t._e()]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:""}},[t._v("Phone")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.addPosCustomer.phone,expression:"addPosCustomer.phone"}],staticClass:"form-control",attrs:{id:"phone",placeholder:"Enter Customer Phone",type:"text"},domProps:{value:t.addPosCustomer.phone},on:{input:function(e){e.target.composing||t.$set(t.addPosCustomer,"phone",e.target.value)}}}),t._v(" "),t.allErrors.phone?s("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.allErrors.phone[0])}}):t._e()]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:""}},[t._v("Sex")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.addPosCustomer.sex,expression:"addPosCustomer.sex"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.addPosCustomer,"sex",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"male"}},[t._v("Male")]),t._v(" "),s("option",{attrs:{value:"female"}},[t._v("Female")])]),t._v(" "),t.allErrors.sex?s("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.allErrors.sex[0])}}):t._e()]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-primary",attrs:{"data-dismiss":"modal",type:"button"},on:{click:function(e){return t.closeModal("addModal")}}},[t._v("Close")]),t._v(" "),s("button",{staticClass:"btn btn-success"},[t._v("Save")])])])])]),t._v(" "),s("modal",{attrs:{adaptive:!0,clickToClose:!1,draggable:!0,limit:3,resizable:!0,height:"auto",name:"editModal"}},[s("div",{staticClass:"modal-header"},[s("button",{staticClass:"close",attrs:{"aria-hidden":"true","data-dismiss":"modal",type:"button"},on:{click:function(e){return t.closeModal("editModal")}}},[t._v("×")]),t._v(" "),s("h4",{staticClass:"modal-title"},[s("i",{staticClass:"entypo-plus-circled"}),t._v("\n\t\t\t\tEdi "+t._s(t.editCustomerData.name)+" Generic\n\t\t\t")])]),t._v(" "),s("div",{staticClass:"modal-body"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.updatePosCustomer(t.editCustomerData.id)}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:""}},[t._v("Name")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.editCustomerData.name,expression:"editCustomerData.name"}],staticClass:"form-control",attrs:{placeholder:"Enter Customer Name",type:"text"},domProps:{value:t.editCustomerData.name},on:{input:function(e){e.target.composing||t.$set(t.editCustomerData,"name",e.target.value)}}}),t._v(" "),s("span",{staticClass:"text-danger"})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:""}},[t._v("Phone")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.editCustomerData.phone,expression:"editCustomerData.phone"}],staticClass:"form-control",attrs:{placeholder:"Enter Customer Phone",type:"text"},domProps:{value:t.editCustomerData.phone},on:{input:function(e){e.target.composing||t.$set(t.editCustomerData,"phone",e.target.value)}}}),t._v(" "),s("span",{staticClass:"text-danger"})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:""}},[t._v("Sex")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.editCustomerData.sex,expression:"editCustomerData.sex"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.editCustomerData,"sex",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"male"}},[t._v("Male")]),t._v(" "),s("option",{attrs:{value:"female"}},[t._v("Female")])]),t._v(" "),s("span",{staticClass:"text-danger"})]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-primary",attrs:{"data-dismiss":"modal",type:"button"},on:{click:function(e){return t.closeModal("editModal")}}},[t._v("Close")]),t._v(" "),s("button",{staticClass:"btn btn-success"},[t._v("Save")])])])])])],1)}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{staticClass:"text-center"},[t._v("#")]),t._v(" "),s("th",{staticClass:"text-center"},[t._v("Name")]),t._v(" "),s("th",{staticClass:"text-center"},[t._v("Phone")]),t._v(" "),s("th",{staticClass:"text-center"},[t._v("Sex")]),t._v(" "),s("th",{staticClass:"text-center"},[t._v("Status")]),t._v(" "),s("th",{staticClass:"text-center",attrs:{width:"33%"}},[t._v("Action")])])])}],!1,null,"864b6298",null).exports}}]);